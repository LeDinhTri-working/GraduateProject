# TÃ­nh nÄƒng Quáº£n lÃ½ ThÃ´ng bÃ¡o Viá»‡c lÃ m

## ğŸ“‹ Tá»•ng quan

TÃ­nh nÄƒng cho phÃ©p ngÆ°á»i dÃ¹ng Ä‘Äƒng kÃ½ nháº­n thÃ´ng bÃ¡o khi cÃ³ viá»‡c lÃ m phÃ¹ há»£p vá»›i tiÃªu chÃ­ cá»§a há». Má»—i user cÃ³ thá»ƒ táº¡o tá»‘i Ä‘a 3 thÃ´ng bÃ¡o viá»‡c lÃ m.

## ğŸ¯ CÃ¡c tÃ­nh nÄƒng chÃ­nh

### 1. Quáº£n lÃ½ ThÃ´ng bÃ¡o
- **Táº¡o thÃ´ng bÃ¡o má»›i**: NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ táº¡o thÃ´ng bÃ¡o vá»›i cÃ¡c bá»™ lá»c chi tiáº¿t
- **Chá»‰nh sá»­a thÃ´ng bÃ¡o**: Cáº­p nháº­t tiÃªu chÃ­ cá»§a thÃ´ng bÃ¡o Ä‘Ã£ táº¡o
- **XÃ³a thÃ´ng bÃ¡o**: XÃ³a thÃ´ng bÃ¡o khÃ´ng cÃ²n cáº§n thiáº¿t
- **Báº­t/Táº¯t thÃ´ng bÃ¡o**: Táº¡m dá»«ng hoáº·c kÃ­ch hoáº¡t láº¡i thÃ´ng bÃ¡o

### 2. Bá»™ lá»c thÃ´ng bÃ¡o
- **Tá»« khÃ³a**: TÃ¬m kiáº¿m theo tá»« khÃ³a (tÃ¹y chá»n)
- **Äá»‹a Ä‘iá»ƒm**: Tá»‰nh/ThÃ nh phá»‘ vÃ  Quáº­n/Huyá»‡n
- **NgÃ nh nghá»**: 25+ ngÃ nh nghá» khÃ¡c nhau
- **Kinh nghiá»‡m**: Tá»« Intern Ä‘áº¿n Executive
- **Má»©c lÆ°Æ¡ng**: 5 khoáº£ng lÆ°Æ¡ng khÃ¡c nhau
- **Loáº¡i hÃ¬nh cÃ´ng viá»‡c**: Full-time, Part-time, Contract, etc.
- **HÃ¬nh thá»©c lÃ m viá»‡c**: On-site, Remote, Hybrid
- **Táº§n suáº¥t nháº­n**: HÃ ng ngÃ y hoáº·c hÃ ng tuáº§n
- **PhÆ°Æ¡ng thá»©c nháº­n**: Trong app, Email, hoáº·c cáº£ hai

### 3. Giá»›i háº¡n
- Má»—i user chá»‰ Ä‘Æ°á»£c táº¡o tá»‘i Ä‘a **3 thÃ´ng bÃ¡o viá»‡c lÃ m**
- Chá»‰ tÃ­nh cÃ¡c thÃ´ng bÃ¡o Ä‘ang hoáº¡t Ä‘á»™ng (active) vÃ o giá»›i háº¡n

## ğŸ—‚ï¸ Cáº¥u trÃºc File

```
src/
â”œâ”€â”€ services/
â”‚   â””â”€â”€ jobAlertService.js          # API service cho job alerts
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ jobAlertEnums.js            # Enum values vÃ  helper functions
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ jobs/
â”‚   â”‚   â””â”€â”€ JobAlertDialog.jsx      # Dialog táº¡o/sá»­a thÃ´ng bÃ¡o
â”‚   â””â”€â”€ layout/
â”‚       â”œâ”€â”€ Header.jsx              # Updated vá»›i Jobs dropdown
â”‚       â””â”€â”€ JobsDropdownMenu.jsx    # Dropdown menu cho Viá»‡c lÃ m
â””â”€â”€ pages/
    â””â”€â”€ dashboard/
        â””â”€â”€ settings/
            â””â”€â”€ JobAlertSettings.jsx # Trang quáº£n lÃ½ thÃ´ng bÃ¡o
```

## ğŸš€ CÃ¡ch sá»­ dá»¥ng

### Truy cáº­p trang quáº£n lÃ½
CÃ³ 3 cÃ¡ch Ä‘á»ƒ truy cáº­p trang quáº£n lÃ½ thÃ´ng bÃ¡o:

1. **Tá»« Header**: Hover vÃ o "Viá»‡c lÃ m" â†’ Click "Quáº£n lÃ½ thÃ´ng bÃ¡o viá»‡c lÃ m"
2. **Tá»« Dashboard**: Sidebar â†’ Settings â†’ Job Alerts
3. **Direct URL**: `/dashboard/settings/job-alerts`

### Táº¡o thÃ´ng bÃ¡o má»›i
1. Click nÃºt "ThÃªm thÃ´ng bÃ¡o"
2. Äiá»n cÃ¡c tiÃªu chÃ­ mong muá»‘n
3. Click "Táº¡o thÃ´ng bÃ¡o"

### Chá»‰nh sá»­a thÃ´ng bÃ¡o
1. Click icon âœï¸ (Pencil) trÃªn hÃ ng thÃ´ng bÃ¡o
2. Cáº­p nháº­t thÃ´ng tin
3. Click "Cáº­p nháº­t"

### Báº­t/Táº¯t thÃ´ng bÃ¡o
- Click icon ğŸ”” (Bell) Ä‘á»ƒ táº¡m dá»«ng thÃ´ng bÃ¡o
- Click icon ğŸ”• (BellOff) Ä‘á»ƒ kÃ­ch hoáº¡t láº¡i

### XÃ³a thÃ´ng bÃ¡o
1. Click icon ğŸ—‘ï¸ (Trash) trÃªn hÃ ng thÃ´ng bÃ¡o
2. XÃ¡c nháº­n xÃ³a trong dialog

## ğŸ”Œ API Endpoints

```javascript
// Get all job alerts
GET /api/job-alerts

// Create new job alert
POST /api/job-alerts
Body: {
  keyword: string (optional),
  location: { province: string, district: string },
  frequency: 'daily' | 'weekly',
  salaryRange: enum,
  type: enum,
  workType: enum,
  experience: enum,
  category: enum,
  notificationMethod: 'EMAIL' | 'APPLICATION' | 'BOTH'
}

// Update job alert
PUT /api/job-alerts/:id
Body: Partial<CreateJobAlertBody> + { active: boolean }

// Delete job alert
DELETE /api/job-alerts/:id

// Get notification history
GET /api/job-alerts/:id/history?page=1&limit=20
GET /api/job-alerts/history?page=1&limit=20
```

## ğŸ¨ UI Components

### JobAlertSettings (Main Page)
- Hiá»ƒn thá»‹ danh sÃ¡ch thÃ´ng bÃ¡o dáº¡ng Table
- Actions: Edit, Delete, Toggle Active
- Button "ThÃªm thÃ´ng bÃ¡o" (disabled khi Ä‘áº¡t giá»›i háº¡n)
- Warning message khi Ä‘áº¡t giá»›i háº¡n 3 thÃ´ng bÃ¡o

### JobAlertDialog (Form)
- Form 2 cá»™t responsive
- Táº¥t cáº£ fields sá»­ dá»¥ng shadcn/ui Select components
- Province/District cÃ³ logic cascade (chá»n tá»‰nh â†’ load quáº­n)
- Validation tá»± Ä‘á»™ng tá»« backend

### JobsDropdownMenu (Header)
- Hover Ä‘á»ƒ hiá»ƒn thá»‹ dropdown
- 4 menu items:
  - TÃ¬m viá»‡c lÃ m (public)
  - Viá»‡c lÃ m Ä‘Ã£ lÆ°u (authenticated)
  - Viá»‡c lÃ m Ä‘Ã£ á»©ng tuyá»ƒn (authenticated)
  - Quáº£n lÃ½ thÃ´ng bÃ¡o viá»‡c lÃ m (authenticated)

## ğŸ“± Responsive Design

- **Desktop**: Table layout vá»›i Ä‘áº§y Ä‘á»§ thÃ´ng tin
- **Mobile**: Mobile menu vá»›i nested items cho Jobs section

## ğŸ”„ State Management

- **TanStack Query** cho server state
  - Query key: `['jobAlerts']`
  - Auto refetch on window focus
  - Optimistic updates cho toggle active
- **Local State** cho UI (dialogs, forms)

## âš¡ Performance

- Sá»­ dá»¥ng `.lean()` trong backend queries
- Pagination cho notification history
- Debounce cho search inputs (náº¿u cÃ³)

## ğŸ¯ Best Practices

1. **Error Handling**: Táº¥t cáº£ API calls Ä‘á»u cÃ³ error handling vá»›i toast notifications
2. **Loading States**: Skeleton loaders vÃ  disabled states
3. **Validation**: Client-side validation + backend Zod schemas
4. **Accessibility**: Proper ARIA labels, keyboard navigation
5. **UX**: Confirmation dialogs cho destructive actions

## ğŸ› Troubleshooting

### KhÃ´ng thá»ƒ táº¡o thÃ´ng bÃ¡o má»›i
- Kiá»ƒm tra Ä‘Ã£ Ä‘áº¡t giá»›i háº¡n 3 thÃ´ng bÃ¡o chÆ°a
- XÃ³a thÃ´ng bÃ¡o cÅ© Ä‘á»ƒ táº¡o má»›i

### Dropdown khÃ´ng hiá»ƒn thá»‹
- Kiá»ƒm tra z-index conflicts
- Äáº£m báº£o `data-dropdown` attribute Ä‘Æ°á»£c set

### API errors
- Kiá»ƒm tra token authentication
- Verify backend API Ä‘ang cháº¡y
- Check network tab trong DevTools

## ğŸ“ Notes

- TÃ­nh nÄƒng nÃ y yÃªu cáº§u user Ä‘Ã£ Ä‘Äƒng nháº­p
- Backend sáº½ tá»± Ä‘á»™ng gá»­i thÃ´ng bÃ¡o theo táº§n suáº¥t Ä‘Ã£ chá»n
- Notification history Ä‘Æ°á»£c lÆ°u Ä‘á»ƒ tracking
