doctype html
html(lang='vi')
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title T·ªïng h·ª£p vi·ªác l√†m tu·∫ßn
    style.
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f4f4f4;
      }
      .container {
        background-color: #ffffff;
        border-radius: 10px;
        padding: 30px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .header {
        text-align: center;
        border-bottom: 3px solid #28a745;
        padding-bottom: 20px;
        margin-bottom: 30px;
      }
      .header h1 {
        color: #28a745;
        margin: 0;
        font-size: 28px;
      }
      .header p {
        color: #666;
        margin: 10px 0 0 0;
        font-size: 16px;
      }
      .weekly-badge {
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 600;
        display: inline-block;
        margin-bottom: 20px;
      }
      .summary {
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border-left: 4px solid #28a745;
        padding: 20px;
        margin-bottom: 30px;
        border-radius: 0 8px 8px 0;
      }
      .summary h2 {
        margin: 0 0 15px 0;
        color: #28a745;
        font-size: 22px;
      }
      .summary-stats {
        display: flex;
        justify-content: space-around;
        margin: 20px 0;
        flex-wrap: wrap;
      }
      .stat-item {
        text-align: center;
        padding: 10px;
        background-color: white;
        border-radius: 8px;
        margin: 5px;
        flex: 1;
        min-width: 120px;
      }
      .stat-number {
        font-size: 24px;
        font-weight: bold;
        color: #28a745;
        display: block;
      }
      .stat-label {
        font-size: 12px;
        color: #666;
        text-transform: uppercase;
      }
      .jobs-section {
        margin-bottom: 30px;
      }
      .section-title {
        color: #28a745;
        font-size: 20px;
        font-weight: bold;
        margin: 30px 0 20px 0;
        padding-bottom: 10px;
        border-bottom: 2px solid #e9ecef;
      }
      .job-card {
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 15px;
        background-color: #ffffff;
        transition: all 0.3s ease;
        position: relative;
      }
      .job-card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
      }
      .job-card.featured {
        border-left: 4px solid #ffc107;
        background: linear-gradient(135deg, #fff, #fffbf0);
      }
      .featured-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: #ffc107;
        color: #212529;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
      }
      .job-title {
        color: #28a745;
        font-size: 18px;
        font-weight: bold;
        margin: 0 0 10px 0;
        text-decoration: none;
        display: block;
      }
      .job-title:hover {
        text-decoration: underline;
      }
      .company-name {
        color: #007bff;
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 12px;
      }
      .job-details {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin: 12px 0;
      }
      .job-detail {
        background-color: #f8f9fa;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 13px;
        color: #555;
      }
      .job-detail.salary {
        background-color: #e8f5e8;
        color: #28a745;
        font-weight: 600;
      }
      .job-detail.deadline {
        background-color: #fff3cd;
        color: #856404;
        font-weight: 600;
      }
      .job-detail.new {
        background-color: #d1ecf1;
        color: #0c5460;
        font-weight: 600;
      }
      .job-summary {
        color: #666;
        font-size: 14px;
        line-height: 1.4;
        margin: 12px 0;
      }
      .view-job-btn {
        display: inline-block;
        background: linear-gradient(135deg, #28a745, #20c997);
        color: white;
        padding: 8px 16px;
        text-decoration: none;
        border-radius: 20px;
        font-weight: 600;
        font-size: 14px;
        margin-top: 10px;
        transition: all 0.3s ease;
      }
      .view-job-btn:hover {
        background: linear-gradient(135deg, #218838, #1ea085);
        color: white;
        transform: translateY(-1px);
      }
      .footer {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid #e0e0e0;
        text-align: center;
        color: #666;
        font-size: 14px;
      }
      .footer a {
        color: #28a745;
        text-decoration: none;
      }
      .footer a:hover {
        text-decoration: underline;
      }
      .no-jobs {
        text-align: center;
        padding: 40px 20px;
        color: #666;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border-radius: 8px;
      }
      .no-jobs h3 {
        color: #28a745;
        margin-bottom: 15px;
      }
      .tips-section {
        background-color: #e7f3ff;
        border-left: 4px solid #007bff;
        padding: 20px;
        margin: 30px 0;
        border-radius: 0 8px 8px 0;
      }
      .tips-section h3 {
        color: #007bff;
        margin: 0 0 15px 0;
      }
      .tips-section ul {
        margin: 0;
        padding-left: 20px;
      }
      .tips-section li {
        margin-bottom: 8px;
        color: #555;
      }
      @media (max-width: 600px) {
        body {
          padding: 10px;
        }
        .container {
          padding: 20px;
        }
        .summary-stats {
          flex-direction: column;
        }
        .job-details {
          flex-direction: column;
          gap: 8px;
        }
        .header h1 {
          font-size: 24px;
        }
      }

  body
    .container
      .header
        .weekly-badge üìÖ B√ÅO C√ÅO TU·∫¶N
        h1 üìä T·ªïng h·ª£p vi·ªác l√†m tu·∫ßn
        p Xin ch√†o #{user.name}!

      .summary
        h2 üìà Th·ªëng k√™ tu·∫ßn n√†y
        .summary-stats
          .stat-item
            span.stat-number #{totalJobs}
            span.stat-label Vi·ªác l√†m m·ªõi
          .stat-item
            span.stat-number #{subscription.keyword}
            span.stat-label T·ª´ kh√≥a
          .stat-item
            span.stat-number #{subscription.location}
            span.stat-label Khu v·ª±c
        p üîç <strong>T·ª´ kh√≥a t√¨m ki·∫øm:</strong> #{subscription.keyword}
        p üìç <strong>Khu v·ª±c:</strong> #{subscription.location}
        p üìÖ <strong>T·∫ßn su·∫•t:</strong> H√†ng tu·∫ßn (Th·ª© 2)

      if jobs && jobs.length > 0
        .jobs-section
          .section-title üíº Vi·ªác l√†m m·ªõi trong tu·∫ßn

          each job, index in jobs
            .job-card(class=index < 3 ? 'featured' : '')
              if index < 3
                .featured-badge ‚≠ê N·ªïi b·∫≠t
              
              a.job-title(href=job.trackingUrl, target='_blank') #{job.title}
              if job.recruiterProfileId && job.recruiterProfileId.company
                .company-name üè¢ #{job.recruiterProfileId.company.name || 'C√¥ng ty kh√¥ng x√°c ƒë·ªãnh'}
              else
                .company-name üè¢ C√¥ng ty kh√¥ng x√°c ƒë·ªãnh
              
              .job-details
                .job-detail üìç #{job.location.district}, #{job.location.province}
                .job-detail üíº #{job.type}
                .job-detail üè† #{job.workType}
                .job-detail üéØ #{job.experience}
                if job.formattedSalary !== 'Th·ªèa thu·∫≠n'
                  .job-detail.salary üí∞ #{job.formattedSalary}
                .job-detail.deadline ‚è∞ #{job.formattedDeadline}
                .job-detail.new üÜï M·ªõi ƒëƒÉng
              
              if job.description
                .job-summary
                  | #{job.description.substring(0, 150)}
                  if job.description.length > 150
                    | ...
              
              a.view-job-btn(href=job.trackingUrl, target='_blank') üëÄ Xem chi ti·∫øt

        .tips-section
          h3 üí° G·ª£i √Ω cho tu·∫ßn t·ªõi
          ul
            li H√£y c·∫≠p nh·∫≠t CV c·ªßa b·∫°n ƒë·ªÉ tƒÉng c∆° h·ªôi ƒë∆∞·ª£c ch√∫ √Ω
            li Theo d√µi c√°c c√¥ng ty b·∫°n quan t√¢m ƒë·ªÉ kh√¥ng b·ªè l·ª° c∆° h·ªôi
            li Chu·∫©n b·ªã s·∫µn th∆∞ xin vi·ªác ƒë·ªÉ ·ª©ng tuy·ªÉn nhanh ch√≥ng
            li M·ªü r·ªông m·∫°ng l∆∞·ªõi k·∫øt n·ªëi ngh·ªÅ nghi·ªáp tr√™n LinkedIn

      else
        .no-jobs
          h3 üîç Tu·∫ßn n√†y ch∆∞a c√≥ vi·ªác l√†m m·ªõi
          p Kh√¥ng c√≥ vi·ªác l√†m n√†o ph√π h·ª£p v·ªõi ti√™u ch√≠ t√¨m ki·∫øm c·ªßa b·∫°n trong tu·∫ßn qua.
          p H√£y th·ª≠ ƒëi·ªÅu ch·ªânh t·ª´ kh√≥a ho·∫∑c m·ªü r·ªông khu v·ª±c t√¨m ki·∫øm ƒë·ªÉ c√≥ th√™m c∆° h·ªôi.

        .tips-section
          h3 üí° G·ª£i √Ω c·∫£i thi·ªán t√¨m ki·∫øm
          ul
            li Th·ª≠ s·ª≠ d·ª•ng t·ª´ kh√≥a t·ªïng qu√°t h∆°n (v√≠ d·ª•: "marketing" thay v√¨ "digital marketing manager")
            li M·ªü r·ªông khu v·ª±c t√¨m ki·∫øm sang c√°c t·ªânh th√†nh l√¢n c·∫≠n
            li Xem x√©t c√°c v·ªã tr√≠ t∆∞∆°ng t·ª± ho·∫∑c c·∫•p ƒë·ªô kh√°c
            li ƒêƒÉng k√Ω th√™m th√¥ng b√°o v·ªõi t·ª´ kh√≥a kh√°c

      .footer
        p 
          | üìß B·∫°n nh·∫≠n ƒë∆∞·ª£c b√°o c√°o tu·∫ßn n√†y v√¨ ƒë√£ ƒëƒÉng k√Ω th√¥ng b√°o vi·ªác l√†m v·ªõi t·ª´ kh√≥a "#{subscription.keyword}".
        p
          | üìÖ B√°o c√°o ti·∫øp theo s·∫Ω ƒë∆∞·ª£c g·ª≠i v√†o th·ª© 2 tu·∫ßn sau.
        p
          small ¬© 2024 CareerConnect. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.